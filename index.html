<script type="text/javascript">
  (async () => {
    try {
      // Step 1: Configure the SDK
      const client = await BandyerSDK.configure({
        appId: 'wAppId_85661fc04c56bdaa14b1271c12c63eff6d00d9b2e57a407138b7b98d9f11',
        region: 'eu',
        environment: 'sandbox',
        callType: 'audio_video',
        mode: 'embed',
        language: 'en',
        isAdmin: true,
        feedback: true,
        virtualBackground: 'blur',
        tools: {
          chat: true,
          screen_sharing: true,
          file_upload: true,
          whiteboard: {
            wb_add_file: true,
            wb_cursor: true,
            wb_text: true,
            wb_shape: true,
            wb_pen: true,
            wb_eraser: true
          },
          snapshot: true,
          live_edit: true,
          live_pointer: true
        }
      });

      // Step 2: Connect the client
      await client.connect({
        userId: "test-user-id",
        displayName: "Test User"
      });

      // Step 3: Manually start a new chat (to make the widget visible)
      await client.addChat({
        id: "chat123",              // Chat ID must be unique
        displayName: "Test Chat",   // Name shown in the widget
        participants: ["test-user-id"]
      });

      console.log("Bandyer widget started and chat opened.");
    } catch (error) {
      console.error("Bandyer SDK error:", error);
    }
  })();
</script>
